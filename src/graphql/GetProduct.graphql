fragment Color on ProductColor {
  name
  icon {
    asset {
      url
    }
  }
  colors {
    asset {
      url
    }
  }
}

fragment Product on Product {
  name
  slug {
    current
  }
  category {
    slug {
      current
    }
  }
  description
  productDetailBullets
  materialBullets
  dimensionsBullets
  amazonLink
  price
  images {
    ...Color
  }
}

fragment Review on Review {
  title
  review
  author
  source
}

query GetProduct($slug: String!) {
  allProduct(where: { slug: { current: { eq: $slug } } }) {
    ...Product
  }
  allReview(where: { product: { slug: { current: { eq: $slug } } } }) {
    ...Review
  }
}
